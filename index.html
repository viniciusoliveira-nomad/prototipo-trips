<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prot√≥tipo OTA - MVP</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel para JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        /* Esconder scrollbar para est√©tica mobile */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- MOCK DATA (Dados fict√≠cios para o prot√≥tipo) ---
        const HOTELS = [
            {
                id: 1,
                name: "Grand Hotel Resort",
                stars: 5,
                rating: 4.8,
                reviews: 120,
                price: 450,
                image: "blue",
                amenities: ["wifi", "pool", "coffee"]
            },
            {
                id: 2,
                name: "Pousada Beira Mar",
                stars: 3,
                rating: 4.2,
                reviews: 85,
                price: 220,
                image: "teal",
                amenities: ["wifi", "coffee"]
            },
            {
                id: 3,
                name: "City Business Hotel",
                stars: 4,
                rating: 4.5,
                reviews: 340,
                price: 310,
                image: "gray",
                amenities: ["wifi", "gym"]
            }
        ];

        // --- COMPONENTS ---

        // Componente de √çcone (Wrapper para Lucide)
        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                search: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>,
                star: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={`text-yellow-400 ${className}`}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>,
                user: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>,
                calendar: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>,
                arrowLeft: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>,
                check: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"></polyline></svg>,
                wifi: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>,
                filter: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
            };
            return icons[name] || null;
        };

        // Header Gen√©rico
        const Header = ({ title, canGoBack, onBack }) => (
            <div className="bg-blue-700 text-white p-4 flex items-center shadow-md sticky top-0 z-10">
                {canGoBack && (
                    <button onClick={onBack} className="mr-3 p-1 hover:bg-blue-600 rounded">
                        <Icon name="arrowLeft" />
                    </button>
                )}
                <h1 className="font-semibold text-lg">{title}</h1>
            </div>
        );

        // --- TELAS ---

        // 1. Home
        const HomeScreen = ({ onSearch }) => {
            return (
                <div className="flex flex-col h-full bg-white">
                    <div className="bg-blue-700 p-6 pb-12 text-white">
                        <h2 className="text-2xl font-bold mb-2">Sua pr√≥xima viagem come√ßa aqui</h2>
                        <p className="text-blue-100 text-sm">Encontre as melhores ofertas de hot√©is.</p>
                    </div>
                    
                    <div className="px-4 -mt-8">
                        <div className="bg-white rounded-lg shadow-lg p-5 space-y-4">
                            {/* Autocomplete Dummy */}
                            <div>
                                <label className="text-xs font-bold text-gray-500 uppercase">Destino</label>
                                <div className="flex items-center border rounded p-2 mt-1 bg-gray-50 hover:bg-white focus-within:ring-2 ring-blue-500">
                                    <Icon name="search" className="text-gray-400 mr-2" />
                                    <input type="text" placeholder="Cidade ou Hotel" className="w-full bg-transparent outline-none text-gray-800" defaultValue="Rio de Janeiro" />
                                </div>
                            </div>

                            {/* Dates */}
                            <div className="flex gap-2">
                                <div className="flex-1">
                                    <label className="text-xs font-bold text-gray-500 uppercase">Check-in</label>
                                    <div className="flex items-center border rounded p-2 mt-1 bg-gray-50">
                                        <input type="date" className="w-full bg-transparent outline-none text-sm text-gray-700" />
                                    </div>
                                </div>
                                <div className="flex-1">
                                    <label className="text-xs font-bold text-gray-500 uppercase">Check-out</label>
                                    <div className="flex items-center border rounded p-2 mt-1 bg-gray-50">
                                        <input type="date" className="w-full bg-transparent outline-none text-sm text-gray-700" />
                                    </div>
                                </div>
                            </div>

                            {/* Pax */}
                            <div>
                                <label className="text-xs font-bold text-gray-500 uppercase">H√≥spedes</label>
                                <div className="flex items-center border rounded p-2 mt-1 bg-gray-50">
                                    <Icon name="user" className="text-gray-400 mr-2" />
                                    <select className="w-full bg-transparent outline-none text-gray-800">
                                        <option>2 Adultos, 0 Crian√ßas</option>
                                        <option>2 Adultos, 1 Crian√ßa</option>
                                        <option>1 Adulto</option>
                                    </select>
                                </div>
                            </div>

                            <button onClick={onSearch} className="w-full bg-yellow-500 hover:bg-yellow-600 text-blue-900 font-bold py-3 rounded shadow transition">
                                Buscar Hot√©is
                            </button>
                        </div>
                    </div>

                    <div className="p-4 mt-4">
                        <h3 className="font-bold text-gray-700 mb-3">Recentes</h3>
                        <div className="flex gap-3 overflow-x-auto no-scrollbar pb-2">
                            {[1,2,3].map(i => (
                                <div key={i} className="min-w-[140px] h-24 bg-gray-200 rounded-lg flex items-end p-2 text-white font-bold relative overflow-hidden">
                                    <div className="absolute inset-0 bg-gray-400"></div> 
                                    <span className="relative z-10 text-sm">Destino {i}</span>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // 2. Listagem
        const ListingScreen = ({ onBack, onSelectHotel }) => {
            return (
                <div className="flex flex-col h-full bg-gray-100">
                    <Header title="Rio de Janeiro" canGoBack onBack={onBack} />
                    
                    {/* Filtros R√°pidos */}
                    <div className="bg-white p-3 flex gap-2 overflow-x-auto border-b">
                        <button className="flex items-center px-3 py-1 border rounded-full text-xs font-medium bg-gray-50"><Icon name="filter" size={12} className="mr-1"/> Filtros</button>
                        <button className="px-3 py-1 border rounded-full text-xs font-medium bg-blue-50 text-blue-700 border-blue-200">Pre√ßo: Menor</button>
                        <button className="px-3 py-1 border rounded-full text-xs font-medium text-gray-600">‚òÖ‚òÖ‚òÖ‚òÖ & up</button>
                        <button className="px-3 py-1 border rounded-full text-xs font-medium text-gray-600">8.0+</button>
                    </div>

                    <div className="flex-1 overflow-y-auto p-4 space-y-4">
                        {HOTELS.map(hotel => (
                            <div key={hotel.id} onClick={() => onSelectHotel(hotel)} className="bg-white rounded-lg shadow overflow-hidden cursor-pointer active:scale-95 transition-transform">
                                {/* Placeholder Image */}
                                <div className={`h-32 w-full bg-${hotel.image}-200 flex items-center justify-center text-gray-500`}>
                                    [Foto Hotel]
                                </div>
                                <div className="p-3">
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <h3 className="font-bold text-gray-800">{hotel.name}</h3>
                                            <div className="flex items-center text-xs text-gray-500 mt-1">
                                                <div className="flex text-yellow-400 mr-1">
                                                    {[...Array(hotel.stars)].map((_,i) => <span key={i}>‚òÖ</span>)}
                                                </div>
                                                <span>({hotel.stars} Estrelas)</span>
                                            </div>
                                        </div>
                                        <div className="text-right">
                                            <div className="bg-blue-900 text-white text-xs font-bold px-1.5 py-0.5 rounded inline-block">{hotel.rating}</div>
                                            <div className="text-[10px] text-gray-400">{hotel.reviews} aval.</div>
                                        </div>
                                    </div>
                                    <div className="mt-3 pt-3 border-t flex justify-between items-end">
                                        <div className="text-xs text-gray-500">Pre√ßo total 3 noites</div>
                                        <div className="text-xl font-bold text-green-700">R$ {hotel.price * 3}</div>
                                    </div>
                                </div>
                            </div>
                        ))}
                        
                        {/* Pagination Placeholder */}
                        <div className="text-center py-4 text-blue-600 text-sm font-medium">Carregar mais resultados...</div>
                    </div>
                </div>
            );
        };

        // 3. Detalhes
        const DetailsScreen = ({ hotel, onBack, onBook }) => {
            return (
                <div className="flex flex-col h-full bg-white">
                    {/* Header Transparente simulado (com bot√£o de voltar) */}
                    <div className="relative h-56 bg-gray-300">
                         <div className="absolute top-0 left-0 p-4 z-10">
                            <button onClick={onBack} className="bg-white/80 p-2 rounded-full shadow"><Icon name="arrowLeft" /></button>
                         </div>
                         <div className="w-full h-full flex items-center justify-center text-gray-500 text-lg font-bold bg-gray-200">
                             [Galeria de Fotos]
                         </div>
                    </div>

                    <div className="flex-1 overflow-y-auto">
                        <div className="p-4">
                            <h1 className="text-2xl font-bold text-gray-900">{hotel.name}</h1>
                            <div className="flex items-center mt-1 mb-4">
                                <span className="bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded">Excepcional {hotel.rating}</span>
                                <span className="text-sm text-gray-500">Copacabana, Rio de Janeiro</span>
                            </div>

                            {/* Amenidades */}
                            <div className="flex gap-4 mb-6 border-b pb-4">
                                <div className="flex flex-col items-center text-xs text-gray-600"><div className="bg-gray-100 p-2 rounded-full mb-1"><Icon name="wifi" size={18}/></div>Wifi</div>
                                <div className="flex flex-col items-center text-xs text-gray-600"><div className="bg-gray-100 p-2 rounded-full mb-1">üèä</div>Piscina</div>
                                <div className="flex flex-col items-center text-xs text-gray-600"><div className="bg-gray-100 p-2 rounded-full mb-1">‚ùÑÔ∏è</div>Ar Cond.</div>
                                <div className="flex flex-col items-center text-xs text-gray-600"><div className="bg-gray-100 p-2 rounded-full mb-1">üÖøÔ∏è</div>Estac.</div>
                            </div>

                            <h3 className="font-bold text-lg mb-3">Escolha seu quarto</h3>
                            
                            {/* Card do Quarto (Room Mapping) */}
                            <div className="border rounded-lg overflow-hidden mb-4 shadow-sm">
                                <div className="h-32 bg-gray-100 flex items-center justify-center text-sm text-gray-400">[Foto Espec√≠fica do Quarto]</div>
                                <div className="p-4">
                                    <h4 className="font-bold text-gray-800 text-lg">Su√≠te Standard Casal</h4>
                                    <ul className="mt-2 space-y-1">
                                        <li className="text-sm text-gray-600 flex items-center"><Icon name="check" size={14} className="mr-2 text-green-500"/> Caf√© da manh√£ incluso</li>
                                        <li className="text-sm text-gray-600 flex items-center"><Icon name="check" size={14} className="mr-2 text-green-500"/> Cancelamento Gr√°tis</li>
                                        <li className="text-sm text-gray-600 flex items-center"><Icon name="check" size={14} className="mr-2 text-green-500"/> Vista Mar</li>
                                    </ul>
                                    <div className="mt-4 flex items-end justify-between">
                                        <div>
                                            <p className="text-xs text-gray-500">Pre√ßo por 3 noites</p>
                                            <p className="text-2xl font-bold text-blue-700">R$ {hotel.price * 3}</p>
                                            <p className="text-[10px] text-gray-400">+ R$ 120 taxas</p>
                                        </div>
                                        <button onClick={onBook} className="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded shadow">
                                            Reservar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // 4. Revis√£o
        const ReviewScreen = ({ hotel, onBack, onConfirm }) => {
            const [isValidating, setIsValidating] = useState(true);

            // Simula Re-quote (valida√ß√£o de pre√ßo)
            useEffect(() => {
                const timer = setTimeout(() => setIsValidating(false), 1500);
                return () => clearTimeout(timer);
            }, []);

            if (isValidating) {
                return (
                    <div className="h-full flex flex-col items-center justify-center bg-white">
                        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-700 mb-4"></div>
                        <p className="text-gray-600 animate-pulse">Validando tarifa atualizada...</p>
                    </div>
                );
            }

            const total = (hotel.price * 3) + 120;

            return (
                <div className="flex flex-col h-full bg-gray-50">
                    <Header title="Revis√£o da Reserva" canGoBack onBack={onBack} />
                    
                    <div className="flex-1 overflow-y-auto p-4">
                        {/* Resumo Hotel */}
                        <div className="bg-white p-4 rounded-lg shadow-sm mb-4 flex gap-4">
                            <div className="w-16 h-16 bg-gray-200 rounded"></div>
                            <div>
                                <h3 className="font-bold text-gray-800">{hotel.name}</h3>
                                <p className="text-sm text-gray-600">Su√≠te Standard Casal</p>
                                <p className="text-xs text-gray-500 mt-1">20 Set - 23 Set (3 noites)</p>
                            </div>
                        </div>

                        {/* Breakdown de Taxas */}
                        <div className="bg-white p-4 rounded-lg shadow-sm mb-4">
                            <h4 className="font-bold text-sm mb-3 text-gray-700">Detalhes do Pagamento</h4>
                            <div className="flex justify-between text-sm text-gray-600 mb-2">
                                <span>Di√°rias (3x R$ {hotel.price})</span>
                                <span>R$ {hotel.price * 3}</span>
                            </div>
                            <div className="flex justify-between text-sm text-gray-600 mb-2">
                                <span>Taxas e Impostos</span>
                                <span>R$ 120,00</span>
                            </div>
                            <div className="border-t pt-2 mt-2 flex justify-between font-bold text-lg text-blue-800">
                                <span>Total</span>
                                <span>R$ {total},00</span>
                            </div>
                        </div>

                        {/* Aviso */}
                        <div className="bg-yellow-50 border border-yellow-200 p-3 rounded text-xs text-yellow-800 mb-4">
                            Pol√≠tica de cancelamento: Gratuito at√© 48h antes do check-in.
                        </div>
                    </div>

                    <div className="p-4 bg-white border-t">
                        <button onClick={onConfirm} className="w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-3 rounded shadow">
                            Ir para Pagamento
                        </button>
                    </div>
                </div>
            );
        };

        // 5. Checkout
        const CheckoutScreen = ({ total, onBack, onFinish }) => {
            return (
                <div className="flex flex-col h-full bg-gray-50">
                    <Header title="Pagamento" canGoBack onBack={onBack} />

                    <div className="flex-1 overflow-y-auto p-4 space-y-4">
                        {/* Autofill simulado */}
                        <div className="bg-white p-4 rounded-lg shadow-sm">
                            <h4 className="font-bold text-sm mb-3 text-gray-700 flex items-center">
                                <Icon name="user" size={16} className="mr-2"/> Dados do H√≥spede
                            </h4>
                            <div className="space-y-3">
                                <input type="text" placeholder="Nome Completo" className="w-full border rounded p-2 text-sm" defaultValue="Jo√£o Silva" />
                                <input type="email" placeholder="E-mail" className="w-full border rounded p-2 text-sm" defaultValue="joao.silva@email.com" />
                                <input type="tel" placeholder="Telefone" className="w-full border rounded p-2 text-sm" defaultValue="(11) 99999-9999" />
                            </div>
                        </div>

                        <div className="bg-white p-4 rounded-lg shadow-sm">
                            <h4 className="font-bold text-sm mb-3 text-gray-700">Cart√£o de Cr√©dito</h4>
                            <div className="space-y-3">
                                <input type="text" placeholder="N√∫mero do Cart√£o" className="w-full border rounded p-2 text-sm" />
                                <div className="flex gap-2">
                                    <input type="text" placeholder="Validade (MM/AA)" className="w-1/2 border rounded p-2 text-sm" />
                                    <input type="text" placeholder="CVV" className="w-1/2 border rounded p-2 text-sm" />
                                </div>
                                <input type="text" placeholder="Nome Impresso" className="w-full border rounded p-2 text-sm" />
                                
                                <label className="block text-xs font-bold text-gray-500 mt-2">Parcelamento</label>
                                <select className="w-full border rounded p-2 text-sm bg-white">
                                    <option>1x de R$ {total} (sem juros)</option>
                                    <option>2x de R$ {total/2} (sem juros)</option>
                                    <option>3x de R$ {total/3} (sem juros)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div className="p-4 bg-white border-t">
                        <button onClick={onFinish} className="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded shadow flex justify-center items-center">
                            Confirmar Pagamento <span className="ml-2 text-sm font-normal">(R$ {total})</span>
                        </button>
                    </div>
                </div>
            );
        };

        // 6. Sucesso
        const SuccessScreen = ({ onHome }) => {
            return (
                <div className="flex flex-col h-full bg-blue-700 items-center justify-center p-6 text-white text-center">
                    <div className="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mb-6 shadow-lg animate-bounce">
                        <Icon name="check" size={40} className="text-white" />
                    </div>
                    <h2 className="text-2xl font-bold mb-2">Reserva Confirmada!</h2>
                    <p className="text-blue-200 mb-8">Sua viagem para o Rio est√° garantida.</p>
                    
                    <div className="bg-white/10 p-4 rounded-lg w-full mb-8 backdrop-blur-sm border border-white/20">
                        <p className="text-xs uppercase tracking-wide text-blue-200">C√≥digo da Reserva</p>
                        <p className="text-3xl font-mono font-bold tracking-widest mt-1">HT-8832</p>
                    </div>

                    <button onClick={onHome} className="bg-white text-blue-800 font-bold py-3 px-8 rounded-full shadow hover:bg-gray-100 transition">
                        Voltar ao In√≠cio
                    </button>
                </div>
            );
        };

        // --- APP CONTROLLER ---
        const App = () => {
            const [screen, setScreen] = useState('home'); // home, listing, details, review, checkout, success
            const [selectedHotel, setSelectedHotel] = useState(null);

            // Fun√ß√µes de Navega√ß√£o
            const goToListing = () => setScreen('listing');
            const goToDetails = (hotel) => {
                setSelectedHotel(hotel);
                setScreen('details');
            };
            const goToReview = () => setScreen('review');
            const goToCheckout = () => setScreen('checkout');
            const goToSuccess = () => setScreen('success');
            const goToHome = () => {
                setSelectedHotel(null);
                setScreen('home');
            };

            return (
                <div className="flex justify-center bg-gray-200 min-h-screen">
                    {/* Container Mobile simulado (max-width) */}
                    <div className="w-full max-w-md bg-white h-screen shadow-2xl relative overflow-hidden flex flex-col">
                        
                        {screen === 'home' && <HomeScreen onSearch={goToListing} />}
                        
                        {screen === 'listing' && (
                            <ListingScreen onBack={goToHome} onSelectHotel={goToDetails} />
                        )}
                        
                        {screen === 'details' && selectedHotel && (
                            <DetailsScreen hotel={selectedHotel} onBack={goToListing} onBook={goToReview} />
                        )}

                        {screen === 'review' && selectedHotel && (
                            <ReviewScreen hotel={selectedHotel} onBack={() => setScreen('details')} onConfirm={goToCheckout} />
                        )}

                        {screen === 'checkout' && selectedHotel && (
                            <CheckoutScreen 
                                total={(selectedHotel.price * 3) + 120} 
                                onBack={() => setScreen('review')} 
                                onFinish={goToSuccess} 
                            />
                        )}

                        {screen === 'success' && <SuccessScreen onHome={goToHome} />}

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>